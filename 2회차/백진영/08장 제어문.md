# 08장. 제어문 control flow statement

제어문은 조건에 따라 코드 블록을 실행(조건문)하거나 반복 실행(반복문)할 때 사용된다.

제어문을 사용하면 코드의 실행을 인위적으로 제어할 수 있다.

코드의 흐름을 이해라기 어렵게 만들어 가독성을 해치는 단점이 있다.

고차함수(forEach, map, filter,reduce)를 사용하여 제어문의 사용을 억제하여 복잡성을 해결할 수 있다.

## 8.1 블록문

- 0개 이상의 문을 중괄호로 묶은 것
- 코드 블록 또는 블록이라고 부르기도 한다.
- 자바스크립트는 블록문을 하나의 실행 단위로 취급한다.
- 단독으로 사용할 수 있으나 일반적으로 제어문이나 함수를 정의할 때 사용한다.

  ```js
  //블록문
  {
    var foo = 10;
  }

  //제어문
  var x = 1;
  if (x < 10) {
    x++;
  }

  //함수 선언문
  function sum(a, b) {
    return a + b;
  }
  ```

## 8.2 조건문

- 주어진 조건식의 평가 결과에 따라 코드 블록의 실행을 결정한다
- 불리언 값으로 평가될 수 있는 표현식이다.
- 자바스크립트는 if...else문과 switch문으로 두 가지 조건문을 제공한다.

### 8.2.1 if...else문

- 주어진 조건식의 논리적 참 또는 거짓에 따라 실행할 코드 블록을 결정한다. 평가 결과가 true인 경우 if문의 코드 블록이 실행되고, false일 경우 else문의 코드 블록이 실행된다.
- if 문의 조건식은 불리언 값으로 평가되어야 한다. 그렇지 않을 경우 자바스크립트 엔진에 의해 암묵적으로 불리언 값으로 강제 변환되어 실행할 코드 블록을 결정한다.

  ```js
  if (조건식1) {
    // 조건식1이 참이면 실행되는 코드
  } else if (조건식2) {
    //  조건식1이 참이면 실행되는 코드
  } else {
    //조건식1과 조건식2가 모두 거짓이면 실행되는 코드
  }
  ```

- else if문과 else문은 옵션이다
- if문과 else문은 2번 이상 사용 X, else if 문은 여러 번 사용 가능.
- 코드 블록 내의 문이 하나뿐이라면 중괄호 생략 가능

  ```js
  var num = 2;
  var kind;

  if (num > 0) kind = "양수";
  else if (num < 0) kind = "음수";
  else kind = "영";
  ```

- 삼항 조건 연산자로 바꿔 쓸 수 있다.

### 8.2.2 switch 문

- 주어진 표현식을 평가하여 그 값과일치하는 표현식을 갖는 case문으로 실행 흐름을 옮긴다. 일치하는 case문이 없는 경우 default문으로 이동한다. default문은 선택사항.

  ```js
  switch (표현식) {
    case 표현식1:
      //switch문의 표현식과 표현식1이 일치하면 실행하는 코드작성
      break;
    case 표현식2:
      //switch문의 표현식과 표현식2가 일치하면 실행하는 코드작성
      break;
    default:
    //switch문의 표현식과 일치하는 case 문이 없을 때 실행하는 코드작성
  }
  ```

- 다양한 상황(case)에 따라 실행할 코드블록을 결정할 때 사용.
- switch문을 지원하지 않는 프로그래밍 언어도 있다.
- 조건이 너무 많을 때 if...else문보다 switch문을 사용하면 가독성이 더 좋다.

## 8.3 반목문

조건식의 평가 결과가 참인 경우 코드 블록을 실행한 후 조건식을 다시 평가하여 여전히 참인 경우 코드 블록을 실행한다. 이는 조건식이 거짓일 때까지 반복된다.

**자바스크립트의 세 가지 반복문 :** for문, while문, do...while문

### **8.3.1 for문**

- 조건식이 거짓으로 평가될 때까지 코드 블록을 반복 실행한다.

  ```js
  for(변수 선언문 또는 할당문; 조건식; 증감식){
    조건이 참인 경우 반복 실행될 문;
  }

  for(var i = 0; i<2;i++){
    console.log(i)// 0 1
  }
  ```

- 변수 선언문, 조건식, 증감식은 모두 옵션이다. 단, 어떠한 식도 선언하지 않으면 무한루프가 된다.

  ```js
  for(;;) {...}
  ```

- for문 내에서 for문으로 중첩해서 사용할 수 있다.

### **8.3.2 while 문**

- 주어진 조간식의 평가 결과가 참이면 코드 블록을 계속 반복 실행한다. 조건문의 평가가 거짓이 되면 종료한다.

  **for문:** 반복 횟수가 명확할 때 사용

  **while문:** 반복 횟수가 불명확할 떄 사용

  ```js
  var count = 0;

  // count가 3보다 작을 때까지 코드블록 반복 실행
  while (count < 3) {
    console.log(count); // 0 1 2
    count++;
  }
  ```

- 조건식의 평가 결과가 언제나 참이면 무한루프가 된다

  ```js
  while(true){...}
  ```

  **무한루프를 탈출 방법:** 코드 블록 내에 if문으로 탈출 조건을 만들고 break문으로 코드 블록 탈출.

  ```js
  var count = 0;

  while (true) {
    console.log(count);
    count++;

    if (count === 3) break;
  }
  ```

### 8.3.3 do...while문

- 코드블록을 먼저 실행하고 조건식을 평가한다. 따라서 **코드 블록은 무조건 한 번 이상 실행된다.**

  ```js
  var count = 0;

  //count가 3보다 작을 떄까지 코드 블록을 계속 반복 실행한다.
  do {
    console.log(count); //0 1 2
    count++;
  } while (count < 3);
  ```

## 8.4 break 문

- break문은 코드블록을 탈출한다.
- 레이블 문, 반복문, switch문의 코드 블록 외에 break 문을 사용하면 SyntaxError(문법 에러)가 발생한다.
  - **레이블 문** :  
    식별자가 붙은 문.  
    플그램의 실행 순서를 제어하는 데 사용.  
    switch문의 case문과 default문도 레이블 문이다 .
    레이블 문을 탈출하려면 break 문에 레이블 식별자를 지정한다.
    ```js
    //foo라는 식별자가 붙은 레이블 블록문
    foo: {
      console.log(1);
      break foo; //foo레이블 블록문 탈출
      console.log(2);
    }
    console.log("Done");
    ```
    **중첩된 for문의 내부 for문이 아닌 외부 for문을 탈출할 때 사용:**
    ```js
    //outer라는 식별자가 붙은 레이블 for문
    outer: for (var i = 0; i < 3; i++) {
      for (var j = 0; j < 3; j++) {
        //i+j===3이먄 outer라는 식별자가 붙은 레이블 for문을 탈출한다.
        if (i + j === 3) break outer;
      }
    }
    ```
    레이블 문 중의할 점:
    - 레이블 문을 사용하면 프로그램의 흐름이 복잡해쟈서 가독성이 나빠지고 오류를 발생시킬 가능성이 높아짐.
    - 중첩된 for문 외부로 탈출할 때 외에는 권장하지 않는다.
- break문은 레이블 문뿐 아니라 반복문, switch문에서도 사용 가능.
  - 이 경우에는 break문에 레이블 식별자를 지정하지 않음
  - 반복문을 더 이상 진행하지 않아도 될 때 불필요한 반복을 회피할 수 있어서 유용함.

## 8.5 continue 문

- 반복문의 코드 블록을 현 지점에서 중단하고 반복문의 증감식으로 실행 흐름을 이동시킨다.
- break문 처럼 반복문을 탈출하지 않는다.

```js
var string = "hello";
var search = "l";
var count = 0;

//continue 문 사용 X, if 문 내에 코드 작성
for (var i = 0; i < string.length; i++) {
  //'l'이면 카운트를 증가시킨다
  if (string[i] === search) {
    count++;
  }
}

//continue 문 사용, if 문 밖에 코드 작성
for (vari = 0; i < string.length; i++) {
  //'l'이 아니면 카운트 증가 X
  if (string[i] !== search) continue;

  count++;
}
```
